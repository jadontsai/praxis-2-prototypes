<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>LEGO Colour Selector</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
    }
    .container {
      max-width: 800px;
      margin: auto;
    }
    .color-selection {
      margin-bottom: 15px;
    }
    label {
      display: block;
      margin-bottom: 5px;
    }
    input {
      width: 100%;
      padding: 10px;
      font-size: 16px;
      margin-bottom: 5px;
      transition: background-color 0.3s, color 0.3s;
    }
    button {
      width: 100%;
      padding: 10px;
      font-size: 16px;
      margin-top: 10px;
      cursor: pointer;
    }
    #result {
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>Select 8 Unique LEGO Colours</h2>
    <form id="colorForm">
      <div class="color-selection">
        <label for="colorInput1">Choice 1:</label>
        <input type="text" id="colorInput1" list="datalist1" placeholder="Start typing a colour...">
        <datalist id="datalist1"></datalist>
      </div>
      <div class="color-selection">
        <label for="colorInput2">Choice 2:</label>
        <input type="text" id="colorInput2" list="datalist2" placeholder="Start typing a colour...">
        <datalist id="datalist2"></datalist>
      </div>
      <div class="color-selection">
        <label for="colorInput3">Choice 3:</label>
        <input type="text" id="colorInput3" list="datalist3" placeholder="Start typing a colour...">
        <datalist id="datalist3"></datalist>
      </div>
      <div class="color-selection">
        <label for="colorInput4">Choice 4:</label>
        <input type="text" id="colorInput4" list="datalist4" placeholder="Start typing a colour...">
        <datalist id="datalist4"></datalist>
      </div>
      <div class="color-selection">
        <label for="colorInput5">Choice 5:</label>
        <input type="text" id="colorInput5" list="datalist5" placeholder="Start typing a colour...">
        <datalist id="datalist5"></datalist>
      </div>
      <div class="color-selection">
        <label for="colorInput6">Choice 6:</label>
        <input type="text" id="colorInput6" list="datalist6" placeholder="Start typing a colour...">
        <datalist id="datalist6"></datalist>
      </div>
      <div class="color-selection">
        <label for="colorInput7">Choice 7:</label>
        <input type="text" id="colorInput7" list="datalist7" placeholder="Start typing a colour...">
        <datalist id="datalist7"></datalist>
      </div>
      <div class="color-selection">
        <label for="colorInput8">Choice 8:</label>
        <input type="text" id="colorInput8" list="datalist8" placeholder="Start typing a colour...">
        <datalist id="datalist8"></datalist>
      </div>
    </form>
    <button id="submitBtn">Submit</button>
    <div id="result"></div>
  </div>

  <script>
    const colors = [
    { name: "Black", hex: "#05131D" },
      { name: "Blue", hex: "#0055BF" },
      { name: "Green", hex: "#237841" },
      { name: "Dark Turquoise", hex: "#008F9B" },
      { name: "Red", hex: "#C91A09" },
      { name: "Dark Pink", hex: "#C870A0" },
      { name: "Brown", hex: "#583927" },
      { name: "Light Gray", hex: "#9BA19D" },
      { name: "Dark Gray", hex: "#6D6E5C" },
      { name: "Light Blue", hex: "#B4D2E3" },
      { name: "Bright Green", hex: "#4B9F4A" },
      { name: "Light Turquoise", hex: "#55A5AF" },
      { name: "Salmon", hex: "#F2705E" },
      { name: "Pink", hex: "#FC97AC" },
      { name: "Yellow", hex: "#F2CD37" },
      { name: "White", hex: "#FFFFFF" },
      { name: "Light Green", hex: "#C2DAB8" },
      { name: "Light Yellow", hex: "#FBE696" },
      { name: "Tan", hex: "#E4CD9E" },
      { name: "Light Violet", hex: "#C9CAE2" },
      { name: "Glow In Dark Opaque", hex: "#D4D5C9" },
      { name: "Purple", hex: "#81007B" },
      { name: "Dark Blue-Violet", hex: "#2032B0" },
      { name: "Orange", hex: "#FE8A18" },
      { name: "Magenta", hex: "#923978" },
      { name: "Lime", hex: "#BBE90B" },
      { name: "Dark Tan", hex: "#958A73" },
      { name: "Bright Pink", hex: "#E4ADC8" },
      { name: "Medium Lavender", hex: "#AC78BA" },
      { name: "Lavender", hex: "#E1D5ED" },
      { name: "Trans-Black IR Lens", hex: "#635F52" },
      { name: "Trans-Dark Blue", hex: "#0020A0" },
      { name: "Trans-Green", hex: "#84B68D" },
      { name: "Trans-Bright Green", hex: "#D9E4A7" },
      { name: "Trans-Red", hex: "#C91A09" },
      { name: "Trans-Black", hex: "#635F52" },
      { name: "Trans-Light Blue", hex: "#AEEFEC" },
      { name: "Trans-Neon Green", hex: "#F8F184" },
      { name: "Trans-Very Lt Blue", hex: "#C1DFF0" },
      { name: "Trans-Dark Pink", hex: "#DF6695" },
      { name: "Trans-Yellow", hex: "#F5CD2F" },
      { name: "Trans-Clear", hex: "#FCFCFC" },
      { name: "Trans-Purple", hex: "#A5A5CB" },
      { name: "Trans-Neon Yellow", hex: "#DAB000" },
      { name: "Trans-Neon Orange", hex: "#FF800D" },
      { name: "Chrome Antique Brass", hex: "#645A4C" },
      { name: "Chrome Blue", hex: "#6C96BF" },
      { name: "Chrome Green", hex: "#3CB371" },
      { name: "Chrome Pink", hex: "#AA4D8E" },
      { name: "Chrome Black", hex: "#1B2A34" },
      { name: "Very Light Orange", hex: "#F3CF9B" },
      { name: "Light Purple", hex: "#CD6298" },
      { name: "Reddish Brown", hex: "#582A12" },
      { name: "Light Bluish Gray", hex: "#A0A5A9" },
      { name: "Dark Bluish Gray", hex: "#6C6E68" },
      { name: "Medium Blue", hex: "#5A93DB" },
      { name: "Medium Green", hex: "#73DCA1" },
      { name: "Speckle Black-Copper", hex: "#000000" },
      { name: "Speckle DBGray-Silver", hex: "#635F61" },
      { name: "Light Pink", hex: "#FECCCF" },
      { name: "Light Flesh", hex: "#F6D7B3" },
      { name: "Milky White", hex: "#FFFFFF" },
      { name: "Metallic Silver", hex: "#A5A9B4" },
      { name: "Metallic Green", hex: "#899B5F" },
      { name: "Metallic Gold", hex: "#DBAC34" },
      { name: "Medium Dark Flesh", hex: "#CC702A" },
      { name: "Dark Purple", hex: "#3F3691" },
      { name: "Dark Flesh", hex: "#7C503A" },
      { name: "Royal Blue", hex: "#4C61DB" },
      { name: "Flesh", hex: "#D09168" },
      { name: "Light Salmon", hex: "#FEBABD" },
      { name: "Violet", hex: "#4354A3" },
      { name: "Blue-Violet", hex: "#6874CA" },
      { name: "Glitter Trans-Dark Pink", hex: "#DF6695" },
      { name: "Medium Lime", hex: "#C7D23C" },
      { name: "Glitter Trans-Clear", hex: "#FFFFFF" },
      { name: "Aqua", hex: "#B3D7D1" },
      { name: "Light Lime", hex: "#D9E4A7" },
      { name: "Light Orange", hex: "#F9BA61" },
      { name: "Glitter Trans-Purple", hex: "#A5A5CB" },
      { name: "Speckle Black-Silver", hex: "#000000" },
      { name: "Speckle Black-Gold", hex: "#000000" },
      { name: "Copper", hex: "#AE7A59" },
      { name: "Pearl Light Gray", hex: "#9CA3A8" },
      { name: "Metal Blue", hex: "#7988A1" },
      { name: "Pearl Light Gold", hex: "#DCBC81" },
      { name: "Trans-Medium Blue", hex: "#CFE2F7" },
      { name: "Pearl Dark Gray", hex: "#575857" },
      { name: "Pearl Very Light Gray", hex: "#ABADAC" },
      { name: "Very Light Bluish Gray", hex: "#E6E3E0" },
      { name: "Yellowish Green", hex: "#DFEEA5" },
      { name: "Flat Dark Gold", hex: "#B48455" },
      { name: "Flat Silver", hex: "#898788" },
      { name: "Trans-Orange", hex: "#F08F1C" },
      { name: "Pearl White", hex: "#F2F3F2" },
      { name: "Bright Light Orange", hex: "#F8BB3D" },
      { name: "Bright Light Blue", hex: "#9FC3E9" },
      { name: "Rust", hex: "#B31004" },
      { name: "Bright Light Yellow", hex: "#FFF03A" },
      { name: "Trans-Pink", hex: "#E4ADC8" },
      { name: "Sky Blue", hex: "#7DBFDD" },
      { name: "Trans-Light Purple", hex: "#96709F" },
      { name: "Dark Blue", hex: "#0A3463" },
      { name: "Dark Green", hex: "#184632" },
      { name: "Glow In Dark Trans", hex: "#BDC6AD" },
      { name: "Pearl Gold", hex: "#AA7F2E" },
      { name: "Dark Brown", hex: "#352100" },
      { name: "Maersk Blue", hex: "#3592C3" },
      { name: "Dark Red", hex: "#720E0F" },
      { name: "Dark Azure", hex: "#078BC9" },
      { name: "Medium Azure", hex: "#36AEBF" },
      { name: "Light Aqua", hex: "#ADC3C0" },
      { name: "Olive Green", hex: "#9B9A5A" },
      { name: "Chrome Gold", hex: "#BBA53D" },
      { name: "Sand Red", hex: "#D67572" },
      { name: "Medium Dark Pink", hex: "#F785B1" },
      { name: "Earth Orange", hex: "#FA9C1C" },
      { name: "Sand Purple", hex: "#845E84" },
      { name: "Sand Green", hex: "#A0BCAC" },
      { name: "Sand Blue", hex: "#6074A1" },
      { name: "Chrome Silver", hex: "#E0E0E0" },
      { name: "Fabuland Brown", hex: "#B67B50" },
      { name: "Medium Orange", hex: "#FFA70B" },
      { name: "Dark Orange", hex: "#A95500" },
      { name: "Very Light Gray", hex: "#E6E3DA" },
      { name: "Glow in Dark White", hex: "#D9D9D9" },
      { name: "Medium Violet", hex: "#9391E4" },
      { name: "Glitter Trans-Neon Green", hex: "#C0F500" },
      { name: "Glitter Trans-Light Blue", hex: "#68BCC5" },
      { name: "Trans Flame Yellowish Orange", hex: "#FCB76D" },
      { name: "Trans Fire Yellow", hex: "#FBE890" },
      { name: "Trans Light Royal Blue", hex: "#B4D4F7" },
      { name: "Reddish Lilac", hex: "#8E5597" },
    ];

    const totalChoices = 8;

    function updateDatalist(inputId, datalistId) {
      const selectedValues = [];
      for (let i = 1; i <= totalChoices; i++) {
        const otherInput = document.getElementById("colorInput" + i);
        if (otherInput.id !== inputId && otherInput.value.trim() !== "") {
          selectedValues.push(otherInput.value.trim().toLowerCase());
        }
      }

      const currentInput = document.getElementById(inputId);
      const currentValue = currentInput.value.trim().toLowerCase();

      const availableColors = colors.filter(color => {
        const optionText = `${color.name} (${color.hex})`.toLowerCase();
        return !selectedValues.includes(optionText) || optionText === currentValue;
      });

      const datalistElem = document.getElementById(datalistId);
      datalistElem.innerHTML = "";
      availableColors.forEach(color => {
        const option = document.createElement("option");
        option.value = `${color.name} (${color.hex})`;
        datalistElem.appendChild(option);
      });
    }

    function applySelectedColor(inputEl) {
      const val = inputEl.value.trim();
      //expected format "Name (#XXXXXX)"
      const match = val.match(/\((#[0-9A-Fa-f]{6})\)$/);
      if (match) {
        const hex = match[1];
        inputEl.style.backgroundColor = hex;

        const r = parseInt(hex.substr(1,2),16);
        const g = parseInt(hex.substr(3,2),16);
        const b = parseInt(hex.substr(5,2),16);
        const luminance = 0.299*r + 0.587*g + 0.114*b; // from somewhere
        inputEl.style.color = (luminance < 186) ? "#FFF" : "#000";
      } else {
        inputEl.style.backgroundColor = "";
        inputEl.style.color = "";
      }
    }

    function updateAllDatalists() {
      for (let i = 1; i <= totalChoices; i++) {
        updateDatalist("colorInput" + i, "datalist" + i);
      }
    }

    for (let i = 1; i <= totalChoices; i++) {
      const inputEl = document.getElementById("colorInput" + i);

      inputEl.addEventListener("input", updateAllDatalists);

      inputEl.addEventListener("change", function() {
        applySelectedColor(this);
        updateAllDatalists();
      });
    }

    document.getElementById("submitBtn").addEventListener("click", function() {
      const results = [];
      for (let i = 1; i <= totalChoices; i++) {
        const val = document.getElementById("colorInput" + i).value.trim();
        if (val !== "") {
          results.push(val);
        }
      }
      document.getElementById("result").innerHTML =
        "<p>Selected colours: " + results.join(", ") + "</p>";
    });

    updateAllDatalists();
  </script>
</body>
</html>
